<section class="hot-collection pb100">
  <div class="inner">
    <div class="flex align-center justify-space-between mb20">
      <p class="orbitron p18">
        <span class="color-white">Add specific details </span
        ><span>to your NFTs </span>
      </p>
    </div>
    <div class="flex wrap">
      <div class="flex2 upload__wrapper">
        <form
          class="needs-validation"
          [formGroup]="createNftForm"
          #formData="ngForm"
          (ngSubmit)="formData.valid && createNftSubmit(formData.value)"
        >
          <div class="upload__form border p-3">
            <div class="upload__list">
              <div class="upload__item">
                <p class="upload__category text-secondary">Item name</p>
                <p class="text-secondary p24 orbitron mt10">{{imageName}}</p>
                <div class="upload__fieldset">
                 
                  <div class="field">
                    <div class="field__label">Description</div>
                    <div class="field__wrap">
                      <textarea
                        rows="3"
                        class="field__input w-normal"
                        type="text"
                        formControlName="description"
                        name="description"
                        placeholder="e.g. “After purchasing you will able to received the NFT...”"
                      ></textarea>
                      <div *ngIf="f.description.invalid && (f.description.touched || formData.submitted)">
                          Description required
                      </div>
                    </div>
                  </div>
                

                  <div class="field" >
                    <div class="field__label">Number of copies</div>
                    <div class="field__wrap">
                      <input
                        class="field__input"
                        type="text"
                       
                        formControlName="numberOfCopies"
                        name="item"
                        placeholder='e.g. 10"'
                        
                      />
                      <div *ngIf="f.numberOfCopies.invalid && (f.numberOfCopies.touched || formData.submitted)">
                       <div *ngIf="f.numberOfCopies.errors.required">
                        numberOfCopies required
                       </div>
                       <div *ngIf="f.numberOfCopies.errors.pattern">
                        numberOfCopies should be number
                       </div>
                    </div>
                    </div>
                  </div>

                  <div
                    class="field"
                    formArrayName="propertysize"
                    *ngFor="let t of propertysize.controls; let i = index"
                  >
                    <div class="flex gap15" [formGroupName]="i">
                      <div class="flex1">
                        <div class="field">
                          <div class="field__label">Size</div>
                          <div class="field__wrap">
                            <input
                              class="field__input"
                              type="text"
                              formControlName="size"
                              id="{{ 'size' + i }}"
                              name="size"
                              placeholder="e.g. Size"
                             
                            />
                            <div *ngIf="propertysize.controls[i].get('size').invalid && (propertysize.controls[i].get('size').touched || formData.submitted) ">
                                size is required
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="flex1">
                        <div class="field">
                          <div class="field__label">Properties</div>
                          <div class="field__wrap">
                            <input
                              class="field__input width_of_input"
                              type="text"
                              formControlName="properties"
                              id="{{ 'size' + i }}"
                              name="propertie"
                              placeholder="e.g. Properties"
                          
                            />
                            <div *ngIf="propertysize.controls[i].get('properties').invalid && (propertysize.controls[i].get('properties').touched || formData.submitted)">
                              properties is required
                          </div>
                          </div>
                        </div>
                      </div>

                      <button
                        type="button"
                        class="close"
                        *ngIf="propertysize.controls.length > 1"
                        (click)="deletRow(i)"
                      >
                        <span aria-hidden="true" style="font-size: 30px"
                          >&times;</span
                        >
                      </button>
                    </div>
                  </div>

                  <div class="upload__row mr-10">
                    <button
                      class="button upload__button"
                      type="button"
                      (click)="addInputs()"
                    >
                      <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="16"
                        height="16"
                        fill="currentColor"
                        class="bi bi-card-list"
                        viewBox="0 0 16 16"
                      >
                        <path
                          d="M14.5 3a.5.5 0 0 1 .5.5v9a.5.5 0 0 1-.5.5h-13a.5.5 0 0 1-.5-.5v-9a.5.5 0 0 1 .5-.5h13zm-13-1A1.5 1.5 0 0 0 0 3.5v9A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-9A1.5 1.5 0 0 0 14.5 2h-13z"
                        />
                        <path
                          d="M5 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 5 8zm0-2.5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm0 5a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5zm-1-5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zM4 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0zm0 2.5a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0z"
                        />
                      </svg>
                      &nbsp;&nbsp; click to add
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="upload__options">
              <div class="upload__option">
                <div class="upload__box">
                  <div class="upload__category">Put on sale</div>
                  <div class="upload__text">
                    You’ll receive bids on this item
                  </div>
                </div>
                <label class="switch">
                  <input
                    class="switch__input"
                    formControlName="isForSale"
                    type="checkbox"
                    checked="checked"
                  />
                  <span class="switch__inner"
                    ><span class="switch__box"></span
                  ></span>
                </label>
              </div>

              <div class="upload__fieldset mb30" *ngIf="f.isForSale.value">
                <div class="field wrap gap15 flex">
                  <div class="checkbox">
                    <label class="checkbox-wrapper">
                      <input
                        type="radio"
                        value="1"
                        name="typeOfSale"
                        formControlName="typeOfSale"
                        class="checkbox-input"
                        checked
                      />
                      <span class="checkbox-tile">
                        <span class="checkbox-icon"> </span>
                        <span class="checkbox-label">Fixed Price</span>
                      </span>
                    </label>
                  </div>

                  <div class="checkbox" *ngIf="typeOfNft == 'single'">
                    <label class="checkbox-wrapper">
                      <input
                        type="radio"
                        value="2"
                        name="typeOfSale"
                        formControlName="typeOfSale"
                        class="checkbox-input"
                      />
                      <span class="checkbox-tile">
                        <span class="checkbox-icon"> </span>
                        <span class="checkbox-label">Timed Auction</span>
                      </span>
                    </label>
                  </div>
                  <div class="checkbox">
                    <label class="checkbox-wrapper">
                      <input
                        type="radio"
                        value="3"
                        name="typeOfSale"
                        formControlName="typeOfSale"
                        class="checkbox-input"
                      />
                      <span class="checkbox-tile">
                        <span class="checkbox-icon"> </span>
                        <span class="checkbox-label">Open for bids</span>
                      </span>
                    </label>
                  </div>
                </div>
                <div
                  class="fixedPriceDetails"
                  *ngIf="f.typeOfSale.value === '1'"
                >
                  <div class="field">
                    <div class="field__label">Price</div>
                    <div class="field__wrap">
                      <input
                        class="field__input"
                      
                        formControlName="fixedPrice"
                        #fixedprice
                        type="text"
                        name="price"
                        placeholder="e.g. Price 1 BNB"
                      />
                    
                    </div>
                    <div class="upload__text mb20">
                      Service fee 2.5% <br />
                      You will receive
                      {{
                        f.fixedPrice?.value - (f.fixedPrice?.value * 2.5) / 100
                      }}
                    </div>
                    <div *ngIf="f.fixedPrice.invalid && (f.fixedPrice.touched || formData.submitted)">
                      price is required
                    </div>
                  </div>
                  
                </div>

                <div
                  class="TimeAuctionDetails mb30"
                  *ngIf="f.typeOfSale.value === '2'"
                >
                  <div class="field">
                    <div class="field__label">Minimum bid</div>
                    <div class="field__wrap">
                      <input
                        class="field__input"
                       
                        formControlName="minimunBid"
                        type="text"
                        name="price"
                        placeholder="e.g. Price 1 BNB"
                        
                      />
                    
                    </div>
                    <div class="upload__text">
                      Bids below this amount won’t be allowed.
                    </div>
                  </div>
               
                  <div class="field">
                    <div class="field__label">Start date</div>
                    <div class="field__wrap">
                      <ejs-datetimepicker
                        id="datetimepicker"
                        name="startingDate"
                        placeholder="Select a date"
                        formControlName="startingDate"
                        [value]="dateValue"
                      ></ejs-datetimepicker>
                      
                    </div>
                    <div class="upload__text">
                      Bids below this amount won’t be allowed.
                    </div>
                  </div>

                  <div class="field mb30">
                    <div class="field__label">End date</div>
                    <div class="field__wrap">
                      <ejs-datetimepicker
                        id="datetimepicker"
                        name="expirationDate"
                        placeholder="Select a date"
                       
                        formControlName="expirationDate"
                        [value]="dateValue"
                      ></ejs-datetimepicker>
                     
                    </div>
                  
                  </div>
                </div>

                <div
                  class="TimeAuctionDetails"
                  *ngIf="f.typeOfSale.value === '3'"
                >
                  <div class="field">
                    <div class="field__label">Minimum bid</div>
                    <div class="field__wrap">
                      <input
                        class="field__input"
                        
                        formControlName="minimunBid"
                        type="text"
                        name="price"
                        placeholder="e.g. Price 1 BNB"
                        
                      />
                      <div *ngIf="f.minimunBid.invalid && (f.minimunBid.touched || formData.submitted)">
                        Minimum bid required
                      </div>
                    </div>
                    <div class="upload__text">
                      Bids below this amount won’t be allowed.
                    </div>
                  </div>
                </div>
              </div>

              <div class="upload__option">
                <div class="upload__box">
                  <div class="upload__category">Unlock once purchased</div>
                  <div class="upload__text">
                    Content will be unlocked after successful transaction
                  </div>
                </div>
                <label class="switch">
                  <input
                    class="switch__input"
                    formControlName="isUnlock"
                    type="checkbox"
                  /><span class="switch__inner"
                    ><span class="switch__box"></span
                  ></span>
                </label>
              </div>
              <div
                class="upload__fieldset upload__option"
                *ngIf="f.isUnlock.value"
              >
                <div class="field wp100">
                  <div class="field__label">Unlock Content</div>
                  <div class="field__wrap">
                    <input
                      class="field__input"
                     
                      type="text"
                      formControlName="alternativeText"
                      name="item"
                      placeholder="Digital key, code to redeem or link to a file..."
                      
                    />
                  <div *ngIf="f.alternativeText.invalid && (f.alternativeText.touched || formData.submitted)">
                    alternativeText is required
                  </div>
                  </div>
                </div>
              </div>

              <div class="upload__option flex-col">
                <div class="field__label">Blockchain</div>
                <div class="field__wrap wp100">
                  <select
                    nice-select
                    class="select"
                    formControlName="blockchainId"
                    #blockchainId
                  >
                    <option
                      *ngFor="let itemblock of blockchainList"
                      [value]="itemblock.blockchainId"
                    >
                      <img
                        _ngcontent-jsl-c115=""
                        class="collection-icon"
                        src="{{ itemblock.fileUrl }}"
                      />
                      {{ itemblock.networkName }}
                    </option>
                  </select>
                </div>
              </div>

             
            </div>
            <div class="upload__foot">
              <button
                class="button-stroke tablet-show upload__button js-preview-open"
              >
                Preview
              </button>
            
              <button
                class="button bg-primary"
                type="submit"
               
              >
                <span>Confirm Details</span>
              </button>
              <!-- <div class="upload__saving">Auto saving
                    <div class="loader"></div>
                  </div> -->
            </div>
          </div>

          <div class="pt50 flex justify-space-between">
            <div class="flex align-center">
              <a href="javascript:void(0)" (click)="previes()">
              <svg
                version="1.1"
                id="prev"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                viewBox="0 0 40 40"
                style="
                  enable-background: new 0 0 40 40;
                  width: 36px;
                  height: 36px;
                "
                xml:space="preserve"
              >
                <g>
                  <circle class="stroke" cx="20" cy="20" r="18"></circle>
                  <g>
                    <line
                      class="stroke"
                      x1="27.1"
                      y1="20"
                      x2="13.3"
                      y2="20"
                    ></line>
                    <polyline
                      class="stroke"
                      points="19.7,13.2 12.9,20.1 19.6,26.8 		"
                    ></polyline>
                  </g>
                </g>
              </svg>
              </a>
              <p class="ml30">Collection: The Creator Network</p>
            </div>

            <div class="flex align-center">
              <p class="mr30">NFT {{index +1}}/{{multipleImageLength}}</p>
              <a href="javascript:void(0)" (click)="nxtNFT()">
              <svg
                version="1.1"
                id="next"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                x="0px"
                y="0px"
                viewBox="0 0 40 40"
                style="
                  enable-background: new 0 0 40 40;
                  width: 36px;
                  height: 36px;
                "
                xml:space="preserve"
              >
                <g>
                  <circle class="stroke" cx="20" cy="20" r="18"></circle>
                  <g>
                    <line
                      class="stroke"
                      x1="12.9"
                      y1="20"
                      x2="26.7"
                      y2="20"
                    ></line>
                    <polyline
                      class="stroke"
                      points="20.3,13.2 27.1,20.1 20.4,26.8 		"
                    ></polyline>
                  </g>
                </g>
              </svg>
            </a>
            </div>
          </div>
        </form>
      </div>

      <div class="flex1">
        <div class="preview js-preview mb40">
          <div class="preview__inner">
            <div class="card">
              <div
                class="card__preview"
                *ngIf="imageUrl.indexOf('video') == -1"
              >
                <img src="{{ imageUrl }}" alt="NFT preview" />

                <!-- <div class="card__control">
                  <div class="status-green card__category">purchasing !</div>
                  <button class="card__favorite">
                    <svg class="icon icon-heart">
                      <use xlink:href="#icon-heart"></use>
                    </svg>
                  </button>
                  <a class="button-small card__button js-popup-open" href="#popup-bid" data-effect="mfp-zoom-in"><span>Place a bid</span>
                          <svg class="icon icon-scatter-up">
                            <use xlink:href="#icon-scatter-up"></use>
                          </svg></a>
                </div> -->
              </div>
              <ng-container *ngIf="imageUrl.indexOf('video') != -1">
                <video
                  class="video"
                  loop
                  autoplay
                  playsinline
                  oncanplay="this.play()"
                  onloadedmetadata="this.muted = true"
                  [muted]="true"
                >
                  <source src="{{ imageUrl }}" type="video/mp4" />
                </video>
              </ng-container>
              <a class="card__link" href="javascript:void(0)">
                <div class="card__body">
                  <div class="card__line justify-space-between align-center">
                    <div
                      class="text-secondary orbitron text-primary"
                    
                    >
                      <!-- {{ f.title.value }} -->
                    </div>
                    <!-- <div
                      class="text-secondary orbitron text-primary"
                      *ngIf="!f.title.value"
                    >
                      NFT Name
                    </div> -->
                    <div
                      class="user__name text-primary"
                      *ngIf="f.typeOfSale.value <= 2"
                    >
                      {{
                        f.typeOfSale.value == 1
                          ? f.fixedPrice.value
                          : f.typeOfSale.value == 2
                          ? f.minimunBid.value
                          : 0
                      }}
                      BNB
                    </div>
                  </div>
                  <div class="card__line justify-space-between w-normal">
                    <!-- <div class="card__users">
                      <div class="card__avatar">
                        <img src="./assets/media/images/moonsea/avatar-big.jpg" alt="Avatar" />
                      </div>
                    </div> -->
                    <div class="card__counter text-primary">by Enrico Cole</div>
                    <div class="card__counter text-primary">
                      {{ f.numberOfCopies.value }} in stock
                    </div>
                  </div>
                </div>
              </a>
            </div>
            <a class="button wp100" (click)="clearForm()"> Clear all</a>
          </div>
        </div>
        <p class="normal_text text-center mb40">
          Confirm details of all NFTs to unlock button. Number of NFTs confirmed
          <br />
          225/12.000
        </p>
        <button class="button bg-primary wp100">Create my collection</button>
      </div>
    </div>
  </div>
</section>
